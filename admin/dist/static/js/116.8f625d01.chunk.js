"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[116],{7399:function(e,n,r){r.d(n,{$P:function(){return d},D2:function(){return u},vV:function(){return h},zQ:function(){return c}});var t=r(1881),i=r.n(t),o=r(644),a=r(8507),l=r(3938),s=i().create({timeout:18e4,baseURL:o.Z.API_DOMAIN});s.interceptors.request.use((function(e){var n=a.Z.get("token");return n&&(e.headers.Authorization=n),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){var n=e.config;if(401!==e.response.status)return Promise.reject(e);var r=a.Z.get("refreshToken");return r?i().post("".concat(o.Z.API_DOMAIN,"/v1/app/auth/request-access-token"),{refreshToken:r}).then((function(r){if(200===r.status){var t=r.data.data;return a.Z.set("token",t.token),n.headers.Authorization=t.token,i()(n)}return(0,l.k)(),Promise.reject(e)})).catch((function(){return(0,l.k)(),Promise.reject(e)})):((0,l.k)(),Promise.reject(e))}));var c=function(e,n){return s.get(e,{params:n}).then((function(e){return e.data}))},u=function(e,n,r){return s.post(e,n,{params:r}).then((function(e){return e.data}))},d=function(e,n){return s.put(e,n).then((function(e){return e.data}))},h=function(e,n){return s.delete(e,{params:n}).then((function(e){return e.data}))}},6710:function(e,n,r){r.d(n,{Ir:function(){return s},ll:function(){return o},nM:function(){return l},ry:function(){return a},xH:function(){return i}});var t=r(7399),i=function(e){return(0,t.zQ)("/product",e)},o=function(e){return(0,t.zQ)("/product/".concat(e))},a=function(e){return(0,t.D2)("/product/create",e)},l=function(e,n){return(0,t.$P)("/product/update/".concat(e),n)},s=function(e){return(0,t.vV)("/product/delete/".concat(e))}},8982:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(6123),i=r.n(t),o="styles_wrapContainer__8r2Fh",a=r(6417),l=function(e){var n=e.classW,r=e.children;return(0,a.jsx)("div",{className:i()(n,o),children:r})}},2312:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(9439),i=r(6986),o=r(2231),a=r(2138),l=r(765),s=r(9491),c=r(3729),u=r(7313),d={sticky__search:"styles_sticky__search__1RSXx",wrapSearchHeaderTable:"styles_wrapSearchHeaderTable__m2koT",search_item:"styles_search_item__Ms61U",wrapBtnHeaderTable:"styles_wrapBtnHeaderTable__FiIQD",btn__import:"styles_btn__import__zyCVp"},h=r(6417),p=function(e){var n=e._onCreate,r=e.btnCreateHas,p=void 0===r||r,m=e.btnHeaderImport,f=void 0===m||m,v=e._onSearchField,g=e.placeholderInputSearch,_=e.background,x=void 0===_?"#f0f1f1":_,Z=(0,u.useState)(""),j=(0,t.Z)(Z,2),b=j[0],y=j[1],P={background:x};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:d.sticky__search,style:P,children:[f&&(0,h.jsxs)("div",{className:d.wrapBtnHeaderTable,children:[(0,h.jsxs)("div",{className:d.btn__import,children:[(0,h.jsx)(s.ZP,{type:"dashed",icon:(0,h.jsx)(i.Z,{}),htmlType:"button",size:"large",children:"Nh\u1eadp file"}),(0,h.jsx)(s.ZP,{type:"dashed",icon:(0,h.jsx)(o.Z,{}),htmlType:"button",size:"large",children:"Xu\u1ea5t file"})]}),(0,h.jsx)("div",{className:d.btn_create,children:p&&(0,h.jsx)(s.ZP,{type:"primary",icon:(0,h.jsx)(a.Z,{}),htmlType:"button",size:"large",onClick:function(){return n&&n()},children:"T\u1ea1o m\u1edbi"})})]}),(0,h.jsxs)("div",{className:d.wrapSearchHeaderTable,children:[(0,h.jsx)("div",{className:d.search_item,children:(0,h.jsx)(c.Z,{size:"large",placeholder:g,prefix:(0,h.jsx)(l.Z,{style:{fontSize:"18px",color:"#08c"}}),onChange:function(e){var n;y(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}})}),(0,h.jsx)("div",{className:d.search_button,children:(0,h.jsx)(s.ZP,{type:"dashed",htmlType:"button",size:"large",onClick:function(){return v&&v(b)},children:"L\u01b0u b\u1ed9 l\u1ecdc"})})]})]})})}},644:function(e,n){n.Z={APP_ENV:"dev",API_DOMAIN:"http://14.225.255.230/api"}},1637:function(e,n,r){r.d(n,{l:function(){return t}});var t=function(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}},7218:function(e,n,r){r.d(n,{tv:function(){return a},ux:function(){return o}});var t=r(1122),i=r(644),o=function(e){t.ZP.destroy(),t.ZP.error(l(e)),"prod"!==i.Z.APP_ENV&&console.log(e)},a=function(e){t.ZP.destroy(),t.ZP.success(s(e)),"prod"!==i.Z.APP_ENV&&console.log(e)},l=function(e){var n,r;return(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Something went wrong!"},s=function(e){return(null===e||void 0===e?void 0:e.message)||""}},9116:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var t=r(1413),i=r(9439),o=r(5705),a=r(6892),l=r(9491),s=r(3299),c=r(3200),u=r(6710),d=r(8982),h=r(2312),p=r(195),m=r(1637),f=r(7218),v=r(7313),g=r(56),_=r(5047),x=r(3729),Z=r(7178),j=r(8197),b=r(9624),y=r(7952),P=r(1245),N={},C=r(6417),w=function(e){var n=e._onCloseModal,r=e.sizePage,t=(0,P.Z)(),o=(0,i.Z)(t,1)[0],a=(0,g.useQueryClient)(),s=(0,g.useMutation)((function(e){return(0,u.ry)(e)}),{onSuccess:function(e){(0,f.tv)(e),o.resetFields(),n()},onError:function(e){(0,f.ux)(e)},onSettled:function(){a.invalidateQueries([p.S.LIST_PRODUCT_KEY,r])}}).mutate;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{className:N.wrapCreateProduct,children:(0,C.jsxs)(_.Z,{form:o,layout:"vertical",onFinish:s,children:[(0,C.jsx)(_.Z.Item,{label:"T\xean s\u1ea3n ph\u1ea9m",rules:[{required:!0,message:"Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],name:"product_name",tooltip:"Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",children:(0,C.jsx)(x.Z,{placeholder:"Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m"})}),(0,C.jsx)(_.Z.Item,{label:"Gi\xe1 nh\u1eadp",rules:[{required:!0,message:"Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],name:"entry_price",tooltip:"Nh\u1eadp gi\xe1 nh\u1eadp",children:(0,C.jsx)(Z.Z,{prefix:"\uffe5",className:"w-100",placeholder:"Nh\u1eadp gi\xe1 nh\u1eadp"})}),(0,C.jsxs)(j.Z,{gutter:[16,16],children:[(0,C.jsx)(b.Z,{span:12,children:(0,C.jsx)(_.Z.Item,{label:"Lo\u1ea1i s\u1ea3n ph\u1ea9m",name:"product_type",rules:[{required:!0,message:"Lo\u1ea1i s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],children:(0,C.jsx)(y.Z,{showSearch:!0,placeholder:"Ch\u1ecdn lo\u1ea1i s\u1ea3n ph\u1ea9m",optionFilterProp:"children",filterOption:function(e,n){var r;return(null!==(r=null===n||void 0===n?void 0:n.label)&&void 0!==r?r:"").includes(e)},filterSort:function(e,n){var r,t;return(null!==(r=null===e||void 0===e?void 0:e.label)&&void 0!==r?r:"").toLowerCase().localeCompare((null!==(t=null===n||void 0===n?void 0:n.label)&&void 0!==t?t:"").toLowerCase())},options:[{value:"N\u01b0\u1edbc hoa",label:"N\u01b0\u1edbc hoa"},{value:"D\u1ea7u g\u1ed9i",label:"D\u1ea7u g\u1ed9i"},{value:"Ph\u1ea5n trang \u0111i\u1ec3m",label:"Ph\u1ea5n trang \u0111i\u1ec3m"}]})})}),(0,C.jsx)(b.Z,{span:12,children:(0,C.jsx)(_.Z.Item,{label:"M\xe3 v\u1ea1ch",rules:[{required:!0,message:"M\xe3 v\u1ea1ch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],tooltip:"Nh\u1eadp m\xe3 v\u1ea1ch",name:"barcode",children:(0,C.jsx)(Z.Z,{className:"w-100",placeholder:"Nh\u1eadp m\xe3 v\u1ea1ch"})})})]}),(0,C.jsxs)(j.Z,{gutter:[16,16],children:[(0,C.jsx)(b.Z,{span:12,children:(0,C.jsx)(_.Z.Item,{label:"Gi\xe1 c\u1ed9ng t\xe1c vi\xean",rules:[{required:!0,message:"Gi\xe1 c\u1ed9ng t\xe1c vi\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],tooltip:"Nh\u1eadp gi\xe1 c\u1ed9ng t\xe1c vi\xean",name:"contributor_price",children:(0,C.jsx)(Z.Z,{className:"w-100",prefix:"\uffe5",placeholder:"Nh\u1eadp gi\xe1 c\u1ed9ng t\xe1c vi\xean"})})}),(0,C.jsx)(b.Z,{span:12,children:(0,C.jsx)(_.Z.Item,{label:"Gi\xe1 b\xe1n",rules:[{required:!0,message:"Gi\xe1 b\xe1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],tooltip:"Nh\u1eadp gi\xe1 b\xe1n",name:"price",children:(0,C.jsx)(Z.Z,{className:"w-100",prefix:"\uffe5",placeholder:"Nh\u1eadp gi\xe1 b\xe1n"})})})]}),(0,C.jsxs)(j.Z,{gutter:[16,16],children:[(0,C.jsx)(b.Z,{span:12,children:(0,C.jsx)(_.Z.Item,{label:"S\u1ed1 l\u01b0\u1ee3ng",rules:[{required:!0,message:"S\u1ed1 l\u01b0\u1ee3ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],tooltip:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng",name:"quantity",children:(0,C.jsx)(Z.Z,{className:"w-100",placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng"})})}),(0,C.jsx)(b.Z,{span:12,children:(0,C.jsx)(_.Z.Item,{label:"Chi nh\xe1nh",name:"branch",rules:[{required:!0,message:"Chi nh\xe1nh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng!"}],children:(0,C.jsx)(y.Z,{showSearch:!0,placeholder:"Ch\u1ecdn chi nh\xe1nh",optionFilterProp:"children",filterOption:function(e,n){var r;return(null!==(r=null===n||void 0===n?void 0:n.label)&&void 0!==r?r:"").includes(e)},filterSort:function(e,n){var r,t;return(null!==(r=null===e||void 0===e?void 0:e.label)&&void 0!==r?r:"").toLowerCase().localeCompare((null!==(t=null===n||void 0===n?void 0:n.label)&&void 0!==t?t:"").toLowerCase())},options:[{value:"Chi nh\xe1nh 1",label:"Chi nh\xe1nh 1"},{value:"Chi nh\xe1nh 2",label:"Chi nh\xe1nh 2"}]})})})]}),(0,C.jsx)(_.Z.Item,{children:(0,C.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"T\u1ea1o m\u1edbi"})})]})})})},k=r(5317),T=function(){var e,n=(0,g.useQueryClient)(),r=(0,v.useState)(!1),_=(0,i.Z)(r,2),x=_[0],Z=_[1],j=(0,v.useState)({name:null}),b=(0,i.Z)(j,2),y=b[0],P=b[1],N=(0,g.useQuery)([p.S.LIST_PRODUCT_KEY,y],(function(){return(0,u.xH)(y)}),{}),T=N.data,S=N.isLoading,I=(0,g.useMutation)((function(e){var n=e._id;return(0,u.Ir)(n)}),{onSuccess:function(e){(0,f.tv)(e)},onError:function(e){return(0,f.ux)(e)},onSettled:function(){return n.invalidateQueries([p.S.LIST_PRODUCT_KEY,y])}}),z=I.mutate,A=[{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"product_name",ellipsis:!0,responsive:["md"],align:"left",render:function(e){return(0,C.jsx)("a",{children:e})}},{title:"T\xe1c v\u1ee5",dataIndex:"action",ellipsis:!0,responsive:["md"],width:200,align:"center",render:function(e,n){return(0,C.jsx)(o.Z,{size:"middle",children:(0,C.jsx)(a.Z,{title:"X\xf3a s\u1ea3n ph\u1ea9m",placement:"topLeft",description:"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a?",onConfirm:function(){return z(n)},okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",children:(0,C.jsx)(l.ZP,{type:"dashed",htmlType:"button",size:"small",children:"X\xf3a"})})})}}],L=null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{key:e._id,price:(0,m.l)(null===e||void 0===e?void 0:e.price)})})),q=function(){return Z(!1)};return(0,C.jsxs)(d.Z,{classW:"h-100",children:[(0,C.jsxs)("div",{className:k.Z.wrapProduct,children:[(0,C.jsx)(h.Z,{_onSearchField:function(e){return function(e){P((0,t.Z)((0,t.Z)({},y),{},{name:e}))}(e)},_onCreate:function(){return Z(!0)},placeholderInputSearch:"T\xecm ki\u1ebfm theo t\xean s\u1ea3n ph\u1ea9m..."}),(0,C.jsx)("div",{className:k.Z.wrapContent,children:(0,C.jsx)(c.Z,{rowSelection:(0,t.Z)({type:"checkbox"},{onChange:function(e,n){},getCheckboxProps:function(e){return{disabled:!1,name:e.name}}}),columns:A,dataSource:L,loading:S,pagination:{total:null===T||void 0===T?void 0:T.totalItems,showTotal:function(e,n){return"T\u1eeb ".concat((null===T||void 0===T?void 0:T.pageIndex)||1," \u0111\u1ebfn ").concat(e," tr\xean t\u1ed5ng ").concat(null===T||void 0===T?void 0:T.totalItems)},defaultPageSize:(null===T||void 0===T?void 0:T.pageSize)||5,defaultCurrent:1,onChange:function(e){return n=e,void P((0,t.Z)((0,t.Z)({},y),{},{pageIndex:n}));var n}}})})]}),x?(0,C.jsx)(s.Z,{title:"T\u1ea1o s\u1ea3n ph\u1ea9m",placement:"right",onClose:q,open:x,children:(0,C.jsx)(w,{_onCloseModal:function(){return q()},sizePage:y})}):null]})}},5317:function(e,n){n.Z={wrapProduct:"styles_wrapProduct__z1Hz7",wrapContent:"styles_wrapContent__MYsOK",wrapVariants:"styles_wrapVariants__qcQoW",wrapPurchaseOrders:"styles_wrapPurchaseOrders__X1Tdr",productVersionName:"styles_productVersionName__84ngg",wrapAction:"styles_wrapAction__1Y-yj"}}}]);