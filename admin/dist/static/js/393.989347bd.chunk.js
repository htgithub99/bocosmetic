"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[393],{2377:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(1413),i=t(4925),a=t(6123),l=t.n(a),s=t(195),o=(t(7313),"styles_wrapButton__1Cj9L"),d="styles_wrapButton_delete__6BmeG",c="styles_wrapButton_edit__o68uf",h=t(6417),u=["children"],p=function(e){var n=e.children,t=(0,i.Z)(e,u),a=t.classNameX,p=void 0===a?"":a,m=t.classNameT,x=l()(o,p,function(){switch(m){case s.Bh.DELETE:return d;case s.Bh.EDIT:return c}}());return(0,h.jsx)("button",(0,r.Z)((0,r.Z)({},t),{},{className:x,children:n}))}},2473:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(1413),i=t(9439),a=t(6968),l=t(6385),s=t(3299),o=t(6700),d=t(7399),c=t(2377),h=t(8982),u=t(2312),p=t(1145),m=t(195),x=t(8643),Z=t(7313),g=t(56),j=t(5217),f=t(6908),_=t(8197),I=t(9624),v=t(4195),y=t(2084),w=t(253),T=t(9491),b=t(1245),S=t(4086),C=t(7218),N={},E=t(6417),P=function(e){var n=e.sizePage,t=e._onCloseModal,a=(0,b.Z)(),l=(0,i.Z)(a,1)[0],s=(0,g.useQueryClient)(),o=(0,Z.useState)([]),c=(0,i.Z)(o,2),h=c[0],u=c[1],p=(0,Z.useState)(!1),x=(0,i.Z)(p,2),j=x[0],P=x[1],k=(0,g.useMutation)((function(e){return function(e){return(0,d.D2)("/order/create",e)}((0,r.Z)((0,r.Z)({},e),{},{product:h}))}),{onSuccess:function(e){null===s||void 0===s||s.invalidateQueries([m.S8.LIST_ORDER_KEY,n]),(0,C.tv)(e),t()},onError:function(e){(0,C.ux)(e)}}).mutate;return(0,Z.useEffect)((function(){return function(){l.resetFields(),u([])}}),[]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:N.wrapCreateOrder,children:(0,E.jsxs)(f.Z,{form:l,onFinish:k,layout:"vertical",children:[(0,E.jsxs)(_.Z,{gutter:[16,16],children:[(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{label:"T\xean kh\xe1ch h\xe0ng",name:"customer_name",rules:[{required:!0,message:""}],children:(0,E.jsx)(v.Z,{placeholder:"Nh\u1eadp t\xean kh\xe1ch h\xe0ng"})})}),(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{label:"M\xe3 \u0111\u01a1n h\xe0ng",name:"code_order",rules:[{required:!0,message:""}],children:(0,E.jsx)(v.Z,{placeholder:"Nh\u1eadp m\xe3 \u0111\u01a1n h\xe0ng"})})})]}),(0,E.jsxs)(_.Z,{gutter:[16,16],children:[(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{label:"Ng\u01b0\u1eddi t\u1ea1o \u0111\u01a1n",name:"creator_order",rules:[{required:!0,message:""}],children:(0,E.jsx)(v.Z,{placeholder:"Nh\u1eadp ng\u01b0\u1eddi t\u1ea1o \u0111\u01a1n"})})}),(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{name:"ordering_branch",label:"Chi nh\xe1nh t\u1ea1o \u0111\u01a1n",children:(0,E.jsx)(y.Z,{showSearch:!0,placeholder:"Chi nh\xe1nh t\u1ea1o \u0111\u01a1n",optionFilterProp:"children",options:m.gv})})})]}),(0,E.jsxs)(_.Z,{gutter:[16,16],children:[(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{name:"order_status",label:"Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",children:(0,E.jsx)(y.Z,{showSearch:!0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",optionFilterProp:"children",options:m.YN})})}),(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{name:"payment_status",label:"Tr\u1ea1ng th\xe1i Thanh to\xe1n",children:(0,E.jsx)(y.Z,{showSearch:!0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i Thanh to\xe1n",optionFilterProp:"children",options:m.ry})})})]}),(0,E.jsx)(f.Z.Item,{label:"Kh\xe1ch ph\u1ea3i tr\u1ea3",name:"guest_must_pay",rules:[{required:!0,message:""}],children:(0,E.jsx)(w.Z,{className:"w-100",placeholder:"Nh\u1eadp kh\xe1ch ph\u1ea3i tr\u1ea3"})}),(0,E.jsx)(f.Z.Item,{children:(0,E.jsx)(T.ZP,{htmlType:"button",className:"w-100",onClick:function(){return P(!0)},children:"Ch\u1ecdn s\u1ea3n ph\u1ea9m"})}),(0,E.jsx)(f.Z.Item,{children:(0,E.jsx)(T.ZP,{htmlType:"submit",children:"T\u1ea1o m\u1edbi"})})]})}),(0,E.jsx)(S.Z,{isModalOpen:j,_onClose:function(){return P(!1)},quantityHas:!0,payData:h,_setPayData:u})]})},k={},F=function(e){var n=e.orderId,t=e.sizePage,a=e._onCloseModal,l=(0,b.Z)(),s=(0,i.Z)(l,1)[0],o=(0,g.useQueryClient)(),c=(0,Z.useState)([]),h=(0,i.Z)(c,2),u=h[0],p=h[1],x=(0,Z.useState)(!1),j=(0,i.Z)(x,2),N=j[0],P=j[1],F=(0,g.useQuery)([m.S8.GET_BY_ID_ORDER,n],(function(){return function(e){return(0,d.zQ)("order/".concat(e))}(n)}),{enabled:Boolean(n)}),D=F.data,M=(F.isLoading,(0,g.useMutation)((function(e){return function(e,n){return(0,d.$P)("order/update/".concat(e),n)}(n,(0,r.Z)((0,r.Z)({},e),{},{product:u}))}),{onSuccess:function(e){null===o||void 0===o||o.invalidateQueries([m.S8.LIST_ORDER_KEY,t]),(0,C.tv)(e),a()},onError:function(e){(0,C.ux)(e)}})),q=M.mutate;return(0,Z.useEffect)((function(){var e;return s.setFieldsValue(null===D||void 0===D?void 0:D.data),p(null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.product),function(){return s.resetFields()}}),[D]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:k.wrapEditOrder,children:(0,E.jsxs)(f.Z,{form:s,onFinish:q,layout:"vertical",children:[(0,E.jsxs)(_.Z,{gutter:[16,16],children:[(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{label:"T\xean kh\xe1ch h\xe0ng",name:"customer_name",rules:[{required:!0,message:""}],children:(0,E.jsx)(v.Z,{placeholder:"Nh\u1eadp t\xean kh\xe1ch h\xe0ng"})})}),(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{label:"M\xe3 \u0111\u01a1n h\xe0ng",name:"code_order",rules:[{required:!0,message:""}],children:(0,E.jsx)(v.Z,{placeholder:"Nh\u1eadp m\xe3 \u0111\u01a1n h\xe0ng"})})})]}),(0,E.jsxs)(_.Z,{gutter:[16,16],children:[(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{label:"Ng\u01b0\u1eddi t\u1ea1o \u0111\u01a1n",name:"creator_order",rules:[{required:!0,message:""}],children:(0,E.jsx)(v.Z,{placeholder:"Nh\u1eadp ng\u01b0\u1eddi t\u1ea1o \u0111\u01a1n"})})}),(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{name:"ordering_branch",label:"Chi nh\xe1nh t\u1ea1o \u0111\u01a1n",children:(0,E.jsx)(y.Z,{showSearch:!0,placeholder:"Chi nh\xe1nh t\u1ea1o \u0111\u01a1n",optionFilterProp:"children",options:m.gv})})})]}),(0,E.jsxs)(_.Z,{gutter:[16,16],children:[(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{name:"order_status",label:"Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",children:(0,E.jsx)(y.Z,{showSearch:!0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",optionFilterProp:"children",options:m.YN})})}),(0,E.jsx)(I.Z,{span:12,children:(0,E.jsx)(f.Z.Item,{name:"payment_status",label:"Tr\u1ea1ng th\xe1i Thanh to\xe1n",children:(0,E.jsx)(y.Z,{showSearch:!0,placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i Thanh to\xe1n",optionFilterProp:"children",options:m.ry})})})]}),(0,E.jsx)(f.Z.Item,{label:"Kh\xe1ch ph\u1ea3i tr\u1ea3",name:"guest_must_pay",rules:[{required:!0,message:""}],children:(0,E.jsx)(w.Z,{className:"w-100",placeholder:"Nh\u1eadp kh\xe1ch ph\u1ea3i tr\u1ea3"})}),(0,E.jsx)(f.Z.Item,{children:(0,E.jsx)(T.ZP,{htmlType:"button",className:"w-100",onClick:function(){return P(!0)},children:"Ch\u1ecdn s\u1ea3n ph\u1ea9m"})}),(0,E.jsx)(f.Z.Item,{children:(0,E.jsx)(T.ZP,{htmlType:"submit",children:"T\u1ea1o m\u1edbi"})})]})}),(0,E.jsx)(S.Z,{isModalOpen:N,_onClose:function(){return P(!1)},quantityHas:!0,payData:u,_setPayData:p})]})},D="styles_wrapOrder__qPVzS",M="styles_wrapContent__n0lq4",q=function(){var e=(0,Z.useState)(!1),n=(0,i.Z)(e,2),t=n[0],f=n[1],_=(0,j.Z)(),I=_.isMobile,v=_.width,y=(0,j.Z)(x.U.LG).isMobile,w=(0,Z.useState)({orderId:null,modalHas:!1}),T=(0,i.Z)(w,2),b=T[0],S=T[1],C=(0,Z.useState)({name:null}),N=(0,i.Z)(C,2),k=N[0],q=N[1],z=(0,g.useQuery)([m.S8.LIST_ORDER_KEY,k],(function(){return e=k,(0,d.zQ)("/order",e);var e})),B=z.data,R=z.isLoading,L=[{title:"M\xe3 \u0111\u01a1n h\xe0ng",dataIndex:"code_order",align:"center",width:I?125:170,render:function(e){return(0,E.jsx)("a",{children:e})}},{title:"Ng\xe0y t\u1ea1o \u0111\u01a1n",dataIndex:"create_at",align:"center",width:I?125:170,render:function(e){return e}},{title:"T\xean kh\xe1ch h\xe0ng",dataIndex:"customer_name",align:"left",width:300,render:function(e){return e}},{title:"Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",dataIndex:"order_status",align:"center",width:I?165:200,render:function(e){return e}},{title:"Tr\u1ea1ng th\xe1i thanh to\xe1n",dataIndex:"payment_status",align:"center",width:I?165:200,render:function(e){return e}},{title:"Kh\xe1ch ph\u1ea3i tr\u1ea3",dataIndex:"guest_must_pay",align:"center",width:I?125:150,render:function(e){return e}},{title:"T\xe1c v\u1ee5",dataIndex:"action",align:"center",width:I?125:200,fixed:"right",render:function(e,n){return(0,E.jsxs)(a.Z,{size:"small",children:[(0,E.jsx)(c.Z,{onClick:function(){return function(e){var n=e._id;S({orderId:n,modalHas:!0})}(n)},classNameT:m.Bh.EDIT,children:"S\u1eeda"}),(0,E.jsx)(c.Z,{classNameT:m.Bh.DELETE,children:"X\xf3a"})]})}}],O=[{title:"STT",dataIndex:"stt",width:100,align:"center",render:function(e){return(0,E.jsx)("a",{children:e})}},{title:"\u1ea2nh",dataIndex:"image",align:"center",width:150,render:function(e){return(0,E.jsx)(l.Z,{src:e,alt:e})}},{title:"M\xe3 SKU",dataIndex:"barcode",align:"center",width:150,render:function(e){return e}},{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"name_product",render:function(e){return e}},{title:"S\u1ed1 l\u01b0\u1ee3ng",dataIndex:"quantity",align:"center",width:150,render:function(e){return e}},{title:"\u0110\u01a1n gi\xe1",dataIndex:"unit_price",align:"right",width:150,render:function(e){return e}},{title:"Th\xe0nh ti\u1ec1n",dataIndex:"into_money",align:"right",width:150,render:function(e){return e}}],Q=function(){return f(!1)},H=function(){return S({orderId:null,modalHas:!1})};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(u.Z,{_onSearchField:function(e){return function(e){q((0,r.Z)((0,r.Z)({},k),{},{name:e}))}(e)},_onCreate:function(){return f(!0)}}),(0,E.jsxs)(h.Z,{children:[(0,E.jsx)("div",{className:D,children:(0,E.jsx)("div",{className:M,children:(0,E.jsx)(o.Z,{style:{width:(0,p.S)(v,y)},rowSelection:(0,r.Z)({type:"checkbox"},{onChange:function(e,n){},getCheckboxProps:function(e){return{disabled:!1,code_order:e.code_order}}}),columns:L,dataSource:function(){var e;return null===B||void 0===B||null===(e=B.data)||void 0===e?void 0:e.map((function(e,n){return(0,r.Z)((0,r.Z)({key:n},e),{},{create_at:"19/02/2023 14:59"})}))}(),loading:R,expandable:{expandedRowRender:function(e){var n;return console.log(e),(0,E.jsx)(o.Z,{columns:O,dataSource:null===e||void 0===e||null===(n=e.product)||void 0===n?void 0:n.map((function(e,n){return(0,r.Z)({key:n,stt:n+1},e)})),loading:!1,pagination:!1})},rowExpandable:function(e){return"Not Expandable"!==e.code_order}},scroll:{y:m.X4}})})}),t?(0,E.jsx)(s.Z,{title:"T\u1ea1o \u0111\u01a1n h\xe0ng",placement:"right",onClose:Q,open:t,size:I?"default":"large",children:(0,E.jsx)(P,{_onCloseModal:function(){return Q()},sizePage:k})}):null,null!==b&&void 0!==b&&b.modalHas?(0,E.jsx)(s.Z,{title:"S\u1eeda \u0111\u01a1n h\xe0ng",placement:"right",onClose:H,open:null===b||void 0===b?void 0:b.modalHas,size:I?"default":"large",children:(0,E.jsx)(F,{_onCloseModal:function(){return H()},orderId:null===b||void 0===b?void 0:b.orderId,sizePage:k})}):null]})]})}}}]);