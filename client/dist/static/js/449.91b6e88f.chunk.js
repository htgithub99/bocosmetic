"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[449],{9449:function(e,t,r){r.r(t),r.d(t,{default:function(){return Y}});var a=r(1413),n=r(9439),l=r(5347),s=r(9854),c=r(6710),i=r(3729),o=r(4573),_="styles_wrapFilter__WyhOP",d="styles_filter_select__KCwUN",u="styles_filter_search__S4NGC",h="styles_filter_category__9wFxd",y=r(6417),m=function(e){var t=e.onShowDrawer,r=e.onChangeSelect,a=e.onSearch,n=i.Z.Search;return(0,y.jsxs)("div",{className:_,children:[(0,y.jsx)("div",{className:h,onClick:t,children:(0,y.jsx)("span",{className:"material-symbols-outlined",children:"tune"})}),(0,y.jsx)("div",{className:d,children:(0,y.jsx)(o.Z,{placeholder:"S\u1eafp x\u1ebfp gi\xe1",size:"large",onChange:r,options:[{value:"price_0_n",label:"T\u1eeb th\u1ea5p \u0111\u1ebfn cao"},{value:"price_n_0",label:"T\u1eeb cao \u0111\u1ebfn th\u1ea5p"},{value:"price_0-200",label:"T\u1eeb 0 \u0111\u1ebfn 200"},{value:"price_200-500",label:"T\u1eeb 200 \u0111\u1ebfn 500"},{value:"price_500-1000",label:"T\u1eeb 500 \u0111\u1ebfn 1tr"},{value:"price_1000_n",label:"Tr\xean 1tr"}]})}),(0,y.jsx)("div",{className:u,children:(0,y.jsx)(n,{size:"large",placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m",onSearch:a})})]})},g=r(8982),p=r(195),f=r(210),C=r(6841),v=r(9694),x=r(7313),j={wrapChildren:"styles_wrapChildren__gfAQ8"},w=function(e){var t=e.item,r=e.onCloseDrawer,a=e.showDrawerIs,n=e.onClickCategory,l=function(e){return e.item.map((function(t,r){return(0,y.jsxs)("div",{className:j.wrapChildren,onClick:function(){return n(e.title,t.category)},children:[(0,y.jsx)("div",{className:j.content_subCategory,children:t.category}),(0,y.jsx)("div",{className:j.content_count,children:"( ".concat(t.count," )")})]},r)}))};return(0,y.jsx)(C.Z,{title:"L\u1ecdc s\u1ea3n ph\u1ea9m",placement:"bottom",closable:!0,onClose:r,open:a,rootClassName:"cosmetic-drawer-category-wrapper",children:(0,y.jsx)(v.Z,{items:[{key:t.title,label:t.title,children:l(t)}],bordered:!1,defaultActiveKey:["1"]})})},N=(0,x.memo)(w),b="styles_wrapCategory__LglNX",k="styles_category_title__VuBsg",T="styles_category_content__E3RUX",D=function(e){var t=e.item,r=e.onCloseDrawer,a=e.showDrawerIs,n=e.onClickCategory;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:b,children:[(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:k,children:t.title}),(0,y.jsx)("ul",{className:T,children:t.item.map((function(e,r){return(0,y.jsxs)("li",{onClick:function(){return n(t.title,e.category)},children:[e.category,(0,y.jsx)("span",{children:"(".concat(e.count,")")})]},r)}))})]}),a&&(0,y.jsx)(N,{item:t,onCloseDrawer:r,showDrawerIs:a,onClickCategory:n})]})})},F={},S=function(e){var t=e.list,r=e.onCloseDrawer,a=e.showDrawerIs,n=e.onClickCategory;return(0,y.jsx)("div",{className:F.wrapCategorySideNav,children:t.map((function(e,t){return(0,y.jsx)(x.Fragment,{children:(0,y.jsx)(D,{item:e,onCloseDrawer:r,showDrawerIs:a,onClickCategory:n})},t)}))})},Z=r(56),I=r(8467),E=r(4077),P=r(1559),O={wrapFlashsale:"styles_wrapFlashsale__9Uh3Y",flashsale_content:"styles_flashsale_content__CQCjZ",content__category:"styles_content__category__6SC5t",content__right:"styles_content__right__TkwNF",right___productType:"styles_right___productType__JIjPD",right___listProduct:"styles_right___listProduct__XJt4Y",listProduct_title:"styles_listProduct_title__iyOsg"},Y=function(){var e,t=(0,I.UO)().categoryId,r=(0,x.useState)({pageIndex:1,pageSize:10,name:null,filter:{}}),i=(0,n.Z)(r,2),o=i[0],_=i[1],d=(0,x.useState)(!1),u=(0,n.Z)(d,2),h=u[0],C=u[1],v=(0,Z.useQuery)([p.FF.GET_PRODUCT_BY_CATEGORY_KEY,o],(function(){return(0,c.uP)(o)}),{enabled:Boolean(o.categoryId)}).data,j=(0,Z.useQuery)([p.FF.GET_CATEGORY_KEY,t],(function(){return(0,s.n)({pageSize:500,parentId:t}).then((function(e){var t=e.data;return(0,f.T4)(t)}))}),{enabled:Boolean(t)}).data,w=(0,Z.useQuery)([p.FF.GET_INFO_PRODUCT_KEY,t],(function(){return(0,c.Yb)({categoryId:t})}),{enabled:Boolean(t)}).data,N=(0,x.useCallback)((function(){return C(!1)}),[h]),b=(0,x.useCallback)((function(){return C(!0)}),[h]),k=(0,x.useCallback)((function(e,t){_((0,a.Z)((0,a.Z)({},o),{},{filter:{value:t,field:e}}))}),[o]),T=t&&(null===(e=p.k1.find((function(e){return e.category_id===+t})))||void 0===e?void 0:e.category_name)||p.Ny.promotion;return(0,x.useLayoutEffect)((function(){_((0,a.Z)((0,a.Z)({},o),{},{categoryId:t,filter:{}}))}),[t,_]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"product-detail-breakcum",children:(0,y.jsx)(l.Z,{items:[{title:p.Ny.home,href:p.h3.HOME_PAGE},{title:T}]})}),(0,y.jsxs)("div",{className:O.wrapFlashsale,children:[(0,y.jsx)("div",{className:O.flashsale__productSort,children:(0,y.jsx)(m,{onShowDrawer:b,onChangeSelect:function(e){console.log("_________ ",e)},onSearch:function(e){_((0,a.Z)((0,a.Z)({},o),{},{name:e}))}})}),(0,y.jsx)(g.Z,{children:(0,y.jsxs)("div",{className:O.flashsale_content,children:[(0,y.jsx)("div",{className:O.content__category,children:(0,y.jsx)(S,{list:(null===w||void 0===w?void 0:w.data)||[],onCloseDrawer:N,showDrawerIs:h,onClickCategory:k})}),(0,y.jsxs)("div",{className:O.content__right,children:[function(){if(null!==j&&void 0!==j&&j.length)return(0,y.jsx)("div",{className:O.right___productType,children:(0,y.jsx)(P.Z,{data:j||[]})})}(),(0,y.jsx)("div",{className:O.right___listProduct,children:(0,y.jsx)("div",{className:O.listProduct_topsale,children:(0,y.jsx)(E.Z,{data:null===v||void 0===v?void 0:v.data})})})]})]})})]})]})}}}]);