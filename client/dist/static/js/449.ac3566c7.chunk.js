"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[449],{9449:function(e,t,r){r.r(t),r.d(t,{default:function(){return Y}});var n=r(1413),a=r(9439),s=r(5347),l=r(9854),c=r(6710),i=r(3729),o=r(4573),_="styles_wrapFilter__WyhOP",d="styles_filter_select__KCwUN",u="styles_filter_search__S4NGC",h="styles_filter_category__9wFxd",y=r(6417),m=function(e){var t=e.onShowDrawer,r=e.onChangeSelect,n=e.onSearch,a=i.Z.Search;return(0,y.jsxs)("div",{className:_,children:[(0,y.jsx)("div",{className:h,onClick:t,children:(0,y.jsx)("span",{className:"material-symbols-outlined",children:"tune"})}),(0,y.jsx)("div",{className:d,children:(0,y.jsx)(o.Z,{placeholder:"S\u1eafp x\u1ebfp gi\xe1",size:"large",onChange:r,options:[{value:"price_0_n",label:"T\u1eeb th\u1ea5p \u0111\u1ebfn cao"},{value:"price_n_0",label:"T\u1eeb cao \u0111\u1ebfn th\u1ea5p"}]})}),(0,y.jsx)("div",{className:u,children:(0,y.jsx)(a,{size:"large",placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m",onSearch:n})})]})},g=r(8982),p=r(195),f=r(210),C=r(6841),x=r(9694),j=r(7313),v={wrapChildren:"styles_wrapChildren__gfAQ8"},w=function(e){var t=e.item,r=e.onCloseDrawer,n=e.showDrawerIs,a=e.onClickCategory,s=function(e){return e.item.map((function(t,r){return(0,y.jsxs)("div",{className:v.wrapChildren,onClick:function(){return a(e.title,t.category)},children:[(0,y.jsx)("div",{className:v.content_subCategory,children:t.category}),(0,y.jsx)("div",{className:v.content_count,children:"( ".concat(t.count," )")})]},r)}))};return(0,y.jsx)(C.Z,{title:"L\u1ecdc s\u1ea3n ph\u1ea9m",placement:"bottom",closable:!0,onClose:r,open:n,rootClassName:"cosmetic-drawer-category-wrapper",children:(0,y.jsx)(x.Z,{items:[{key:t.title,label:t.title,children:s(t)}],bordered:!1,defaultActiveKey:["1"]})})},N=(0,j.memo)(w),k="styles_wrapCategory__LglNX",b="styles_category_title__VuBsg",D="styles_category_content__E3RUX",F=function(e){var t=e.item,r=e.onCloseDrawer,n=e.showDrawerIs,a=e.onClickCategory;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:k,children:[(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:b,children:t.title}),(0,y.jsx)("ul",{className:D,children:t.item.map((function(e,r){return(0,y.jsxs)("li",{onClick:function(){return a(t.title,e.category)},children:[e.category,(0,y.jsx)("span",{children:"(".concat(e.count,")")})]},r)}))})]}),n&&(0,y.jsx)(N,{item:t,onCloseDrawer:r,showDrawerIs:n,onClickCategory:a})]})})},S={},Z=function(e){var t=e.list,r=e.onCloseDrawer,n=e.showDrawerIs,a=e.onClickCategory;return(0,y.jsx)("div",{className:S.wrapCategorySideNav,children:t.map((function(e,t){return(0,y.jsx)(j.Fragment,{children:(0,y.jsx)(F,{item:e,onCloseDrawer:r,showDrawerIs:n,onClickCategory:a})},t)}))})},T=r(56),I=r(8467),E=r(4077),P=r(1559),O={wrapFlashsale:"styles_wrapFlashsale__9Uh3Y",flashsale_content:"styles_flashsale_content__CQCjZ",content__category:"styles_content__category__6SC5t",content__right:"styles_content__right__TkwNF",right___productType:"styles_right___productType__JIjPD",right___listProduct:"styles_right___listProduct__XJt4Y",listProduct_title:"styles_listProduct_title__iyOsg"},Y=function(){var e,t=(0,I.UO)().categoryId,r=(0,j.useState)({pageIndex:1,pageSize:10,name:null,filter:{}}),i=(0,a.Z)(r,2),o=i[0],_=i[1],d=(0,j.useState)(!1),u=(0,a.Z)(d,2),h=u[0],C=u[1],x=(0,T.useQuery)([p.FF.GET_PRODUCT_BY_CATEGORY_KEY,o],(function(){return(0,c.uP)(o)}),{enabled:Boolean(o.categoryId)}).data,v=(0,T.useQuery)([p.FF.GET_CATEGORY_KEY,t],(function(){return(0,l.n)({pageSize:500,parentId:t}).then((function(e){var t=e.data;return(0,f.T4)(t)}))}),{enabled:Boolean(t)}).data,w=(0,T.useQuery)([p.FF.GET_INFO_PRODUCT_KEY,t],(function(){return(0,c.Yb)({categoryId:t})}),{enabled:Boolean(t)}).data,N=(0,j.useCallback)((function(){return C(!1)}),[h]),k=(0,j.useCallback)((function(){return C(!0)}),[h]),b=(0,j.useCallback)((function(e,t){_((0,n.Z)((0,n.Z)({},o),{},{filter:{value:t,field:e}}))}),[o]),D=t&&(null===(e=p.k1.find((function(e){return e.category_id===+t})))||void 0===e?void 0:e.category_name)||p.Ny.promotion;return(0,j.useLayoutEffect)((function(){_((0,n.Z)((0,n.Z)({},o),{},{categoryId:t,filter:{}}))}),[t,_]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"product-detail-breakcum",children:(0,y.jsx)(s.Z,{items:[{title:p.Ny.home,href:p.h3.HOME_PAGE},{title:D}]})}),(0,y.jsxs)("div",{className:O.wrapFlashsale,children:[(0,y.jsx)("div",{className:O.flashsale__productSort,children:(0,y.jsx)(m,{onShowDrawer:k,onChangeSelect:function(e){console.log("_________ ",e)},onSearch:function(e){_((0,n.Z)((0,n.Z)({},o),{},{name:e}))}})}),(0,y.jsx)(g.Z,{children:(0,y.jsxs)("div",{className:O.flashsale_content,children:[(0,y.jsx)("div",{className:O.content__category,children:(0,y.jsx)(Z,{list:(null===w||void 0===w?void 0:w.data)||[],onCloseDrawer:N,showDrawerIs:h,onClickCategory:b})}),(0,y.jsxs)("div",{className:O.content__right,children:[function(){if(null!==v&&void 0!==v&&v.length)return(0,y.jsx)("div",{className:O.right___productType,children:(0,y.jsx)(P.Z,{data:v||[]})})}(),(0,y.jsx)("div",{className:O.right___listProduct,children:(0,y.jsx)("div",{className:O.listProduct_topsale,children:(0,y.jsx)(E.Z,{data:null===x||void 0===x?void 0:x.data})})})]})]})})]})]})}}}]);